<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
        
<mapper namespace="com.exbyte.insurance.consulting.ConsultingMapper">
	
	<insert id="create">
		INSERT INTO tbl_personal(
			user_id
		    blink_avg,
		    eye_ear,
		    mouth_ear
		) VALUES (
			#{userId},
		    #{blinkAvg},
		    #{eyeEar},
		    #{mouthEar}
		);
	</insert>
	
	<select id="selectByAdmin" resultMap="PersonalResultMap">
		SELECT
			*
		FROM
			tbl_personal
		WHERE
			user_id NOT NULL
		AND user_id = #{userId}
	</select>

	<select id="read" resultMap="PersonalResultMap">
		SELECT
			*
		FROM
			tbl_personal
		WHERE
			user_id = #{userId}
	</select>
	
	<update id="update">
		UPDATE 
			tbl_personal
		SET
			user_Id = #{uesrId}
			, blink_avg = #{blinkAvg}
			, eye_ear = #{eyeEar}
			, mouth_ear = #{mouthEar}
		WHERE user_id = #{userId}
	</update>
		
	<resultMap type="PersonalVO" id="PersonalResultMap">
		<id property="userId" column="user_id"/>
		<result property="blinkAvg" column="blinkAvg" />
		<result property="eyeEar" column="eye_ear" />
		<result property="mouthEar" column="mouth_ear"/>
	</resultMap>

</mapper>